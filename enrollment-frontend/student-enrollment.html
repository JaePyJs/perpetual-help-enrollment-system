<!DOCTYPE html>
<html lang="en" class="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Enrollment - Perpetual Help College of Manila</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="student-dashboard.css">
  <link rel="stylesheet" href="student-enrollment.css">
  <link rel="stylesheet" href="student-enrollment-extension.css">
  <link rel="stylesheet" href="css/phcm-theme.css">
  <script src="js/student-id-validator.js"></script>
  <script>
    // Theme management
    function setTheme(theme) {
      const html = document.documentElement;
      html.classList.remove('light', 'dark');
      
      if (theme === 'dark') {
        html.classList.add('dark');
      } else {
        html.classList.add('light');
      }
      
      localStorage.setItem('theme', theme);
    }
    
    // Check for saved theme on page load
    document.addEventListener('DOMContentLoaded', function() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      setTheme(savedTheme);
      
      // Initialize student ID validation
      const studentIdElement = document.getElementById('student-id');
      if (studentIdElement) {
        const idText = studentIdElement.textContent.replace('ID: ', '');
        if (!validateStudentId(idText)) {
          console.warn('Invalid student ID format detected:', idText);
          // Generate a proper ID using current year
          const currentYear = new Date().getFullYear();
          const newId = generateStudentId(currentYear);
          studentIdElement.textContent = 'ID: ' + newId;
        }
      }
    });
  </script>
  <style>
    /* Theme switcher styles */
    .theme-switcher {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 100;
      background-color: var(--card-bg);
      border-radius: 2rem;
      padding: 0.5rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      gap: 0.5rem;
    }
    
    .theme-button {
      background: none;
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text-primary);
    }
    
    .theme-button:hover {
      background-color: rgba(231, 127, 51, 0.2);
    }
    
    .theme-button.active {
      background-color: #e77f33;
      color: white;
    }
  </style>
</head>
<body>
  <!-- Theme Switcher -->
  <div class="theme-switcher">
    <button id="light-theme-btn" class="theme-button active" onclick="setTheme('light')" title="Light Mode">
      <i class="fas fa-sun"></i>
    </button>
    <button id="dark-theme-btn" class="theme-button" onclick="setTheme('dark')" title="Dark Mode">
      <i class="fas fa-moon"></i>
    </button>
  </div>
  
  <div class="student-dashboard">
    <aside class="sidebar">
      <div class="menu-section">
        <h3>Main Menu</h3>
        <ul>
          <li><a href="#">üì¢ Site News</a></li>
        </ul>
      </div>
      <div class="menu-section">
        <h3>Navigation</h3>
        <ul>
          <li><a href="student-dashboard.html">üè† Dashboard</a></li>
          <li><a href="#" class="active">üìù Enrollment</a></li>
          <li><a href="#">üìö My Courses</a></li>
          <li><a href="#">üí∞ Finances</a></li>
          <li><a href="#">üìä Grades</a></li>
          <li><a href="#">üë§ Profile</a></li>
        </ul>
      </div>
      <div class="menu-section">
        <h3>Calendar</h3>
        <div class="calendar-box">üìÖ May 2025</div>
      </div>
      <div class="menu-section">
        <h3>Activities</h3>
        <ul>
          <li><a href="#">üí¨ Forums</a></li>
        </ul>
      </div>
    </aside>

    <main class="main-content">
      <div class="header">
        <h1>Student Enrollment</h1>
        <div class="student-info">
          <span id="student-id">ID: m23-1470-578</span>
          <span id="student-name">Juan Dela Cruz</span>
          <span id="student-dept">Department: BSIT</span>
        </div>
      </div>

      <div class="enrollment-status">
        <div class="status-card">
          <h3>Current Academic Term</h3>
          <div class="status-info">
            <p>Academic Year: <span id="academic-year">2024-2025</span></p>
            <p>Semester: <span id="semester">1st</span></p>
            <p>Year Level: <span id="year-level">2</span></p>
            <p>Enrollment Status: <span id="enrollment-status" class="status-pending">Pending</span></p>
          </div>
        </div>

        <div class="status-card">
          <h3>Enrollment Schedule</h3>
          <div class="status-info">
            <p>Regular Enrollment Period: <span id="regular-period">May 15, 2025 - June 15, 2025</span></p>
            <p>Late Enrollment Period: <span id="late-period">June 16, 2025 - June 30, 2025</span></p>
            <p>Add/Drop Period: <span id="add-drop-period">June 16, 2025 - July 15, 2025</span></p>
            <p>Classes Start: <span id="classes-start">June 5, 2025</span></p>
          </div>
        </div>
      </div>

      <div class="enrollment-action" id="enrollment-action-buttons">
        <button id="new-enrollment-btn" class="primary-btn">New Enrollment</button>
        <button id="view-enrollment-btn" class="secondary-btn" disabled>View Current Enrollment</button>
      </div>

      <div id="enrollment-form-container" class="enrollment-form-container" style="display: none;">
        <div class="form-header">
          <h2>Course Registration</h2>
          <p>Select subjects for Academic Year <span id="form-academic-year">2024-2025</span>, <span id="form-semester">1st</span> Semester</p>
        </div>

        <div class="curriculum-info">
          <h3>BSIT Curriculum - Year 2, 1st Semester</h3>
          <p>Select the subjects you want to enroll in. Please note prerequisite requirements.</p>
        </div>

        <form id="enrollment-form">
          <div class="form-section">
            <h3>Available Subjects</h3>
            <div class="subject-list" id="subject-list">
              <!-- Subject list will be populated dynamically -->
              <div class="subject-item">
                <div class="subject-checkbox">
                  <input type="checkbox" id="subject-1" name="subjects" value="1">
                </div>
                <div class="subject-info">
                  <label for="subject-1">
                    <span class="subject-code">IT201</span>
                    <span class="subject-title">Data Structures and Algorithms</span>
                    <span class="subject-units">3 units (2 lec, 1 lab)</span>
                  </label>
                  <div class="subject-details">
                    <p>Prerequisites: IT102 - Computer Programming 1</p>
                    <div class="section-select">
                      <label>Section:</label>
                      <select name="section-1">
                        <option value="A">Section A (M/W 9:00AM-10:30AM, Rm 305)</option>
                        <option value="B">Section B (T/Th 1:00PM-2:30PM, Rm 307)</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <div class="subject-item">
                <div class="subject-checkbox">
                  <input type="checkbox" id="subject-2" name="subjects" value="2">
                </div>
                <div class="subject-info">
                  <label for="subject-2">
                    <span class="subject-code">IT202</span>
                    <span class="subject-title">Information Management</span>
                    <span class="subject-units">3 units (2 lec, 1 lab)</span>
                  </label>
                  <div class="subject-details">
                    <p>Prerequisites: None</p>
                    <div class="section-select">
                      <label>Section:</label>
                      <select name="section-2">
                        <option value="A">Section A (M/W 1:00PM-2:30PM, Rm 305)</option>
                        <option value="B">Section B (T/Th 9:00AM-10:30AM, Rm 307)</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <div class="subject-item">
                <div class="subject-checkbox">
                  <input type="checkbox" id="subject-3" name="subjects" value="3">
                </div>
                <div class="subject-info">
                  <label for="subject-3">
                    <span class="subject-code">GE103</span>
                    <span class="subject-title">Purposive Communication</span>
                    <span class="subject-units">3 units (3 lec, 0 lab)</span>
                  </label>
                  <div class="subject-details">
                    <p>Prerequisites: None</p>
                    <div class="section-select">
                      <label>Section:</label>
                      <select name="section-3">
                        <option value="A">Section A (M/W 3:00PM-4:30PM, Rm 205)</option>
                        <option value="B">Section B (T/Th 10:30AM-12:00PM, Rm 207)</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <div class="subject-item">
                <div class="subject-checkbox">
                  <input type="checkbox" id="subject-4" name="subjects" value="4">
                </div>
                <div class="subject-info">
                  <label for="subject-4">
                    <span class="subject-code">GE104</span>
                    <span class="subject-title">Mathematics in the Modern World</span>
                    <span class="subject-units">3 units (3 lec, 0 lab)</span>
                  </label>
                  <div class="subject-details">
                    <p>Prerequisites: None</p>
                    <div class="section-select">
                      <label>Section:</label>
                      <select name="section-4">
                        <option value="A">Section A (M/W 7:30AM-9:00AM, Rm 105)</option>
                        <option value="B">Section B (T/Th 3:00PM-4:30PM, Rm 107)</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="enrollment-summary">
            <h3>Enrollment Summary</h3>
            <div class="summary-info">
              <p>Selected Subjects: <span id="selected-count">0</span></p>
              <p>Total Units: <span id="total-units">0</span></p>
              <p>Estimated Tuition: <span id="estimated-tuition">‚Ç±0.00</span></p>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" id="submit-enrollment" class="primary-btn">Submit Enrollment</button>
            <button type="button" id="cancel-enrollment" class="cancel-btn">Cancel</button>
          </div>
        </form>
      </div>

      <div id="enrollment-details" class="enrollment-details" style="display: none;">
        <div class="details-header">
          <h2>Enrollment Details</h2>
          <div class="enrollment-badges">
            <span class="badge badge-pending" id="status-badge">Pending</span>
            <span class="badge badge-info" id="payment-badge">Unpaid</span>
          </div>
        </div>

        <div class="details-info">
          <div class="info-section">
            <h3>Student Information</h3>
            <table class="info-table">
              <tr>
                <td>Student ID:</td>
                <td id="details-student-id">m23-1470-578</td>
              </tr>
              <tr>
                <td>Name:</td>
                <td id="details-student-name">Juan Dela Cruz</td>
              </tr>
              <tr>
                <td>Program:</td>
                <td id="details-program">Bachelor of Science in Information Technology</td>
              </tr>
              <tr>
                <td>Year Level:</td>
                <td id="details-year-level">2</td>
              </tr>
              <tr>
                <td>Academic Year:</td>
                <td id="details-academic-year">2024-2025</td>
              </tr>
              <tr>
                <td>Semester:</td>
                <td id="details-semester">1st</td>
              </tr>
            </table>
          </div>

          <div class="info-section">
            <h3>Enrolled Subjects</h3>
            <table class="subjects-table">
              <thead>
                <tr>
                  <th>Code</th>
                  <th>Subject</th>
                  <th>Units</th>
                  <th>Schedule</th>
                  <th>Section</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="enrolled-subjects">
                <tr>
                  <td>IT201</td>
                  <td>Data Structures and Algorithms</td>
                  <td>3 (2 lec, 1 lab)</td>
                  <td>M/W 9:00AM-10:30AM, Rm 305</td>
                  <td>A</td>
                  <td><span class="status-enrolled">Enrolled</span></td>
                </tr>
                <tr>
                  <td>IT202</td>
                  <td>Information Management</td>
                  <td>3 (2 lec, 1 lab)</td>
                  <td>M/W 1:00PM-2:30PM, Rm 305</td>
                  <td>A</td>
                  <td><span class="status-enrolled">Enrolled</span></td>
                </tr>
                <tr>
                  <td>GE103</td>
                  <td>Purposive Communication</td>
                  <td>3 (3 lec, 0 lab)</td>
                  <td>M/W 3:00PM-4:30PM, Rm 205</td>
                  <td>A</td>
                  <td><span class="status-enrolled">Enrolled</span></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-section">
            <h3>Financial Summary</h3>
            <table class="financial-table">
              <tr>
                <td>Tuition Fee:</td>
                <td id="details-tuition">‚Ç±9,000.00</td>
              </tr>
              <tr>
                <td>Laboratory Fee:</td>
                <td id="details-lab-fee">‚Ç±1,000.00</td>
              </tr>
              <tr>
                <td>Miscellaneous Fees:</td>
                <td id="details-misc-fee">‚Ç±1,300.00</td>
              </tr>
              <tr class="total-row">
                <td>Total Assessment:</td>
                <td id="details-total-assessment">‚Ç±11,300.00</td>
              </tr>
              <tr>
                <td>Amount Paid:</td>
                <td id="details-amount-paid">‚Ç±0.00</td>
              </tr>
              <tr class="balance-row">
                <td>Remaining Balance:</td>
                <td id="details-balance">‚Ç±11,300.00</td>
              </tr>
            </table>
          </div>
        </div>

        <div class="details-actions">
          <button id="add-drop-btn" class="secondary-btn">Add/Drop Subjects</button>
          <button id="view-payment-btn" class="secondary-btn">View Payment Options</button>
          <button id="print-assessment-btn" class="secondary-btn">Print Assessment</button>
          <button id="back-to-enrollment" class="cancel-btn">Back</button>
        </div>
      </div>

      <footer class="footer">
        You are logged in as <b id="footer-student-name">Juan Dela Cruz</b> | <a href="loginpage.html">Log out</a></br>
        <small>Powered by UPHC ‚Ä¢ Inspired by FRONTLEARNERS, INC.</small>
      </footer>
    </main>
  </div>

  <script src="js/subjects-data.js"></script>
  <script src="js/student-enrollment.js"></script>
</body>
</html>
