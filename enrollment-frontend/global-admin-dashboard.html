<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Global Admin Dashboard - Perpetual Help College of Manila</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="css/phcm-theme.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* Global admin dashboard specific styles */
    .theme-switcher {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 100;
      background-color: var(--card-bg);
      border-radius: 2rem;
      padding: 0.5rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      gap: 0.5rem;
    }
    
    .theme-button {
      background: none;
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text-primary);
    }
    
    .theme-button:hover {
      background-color: var(--hover-light);
    }
    
    .theme-button.active {
      background-color: var(--primary);
      color: white;
    }
    
    .sidebar ul {
      list-style: none;
      padding: 0 1rem;
    }
    
    /* Theme variables */
    :root {
      /* Light theme (default) */
      --primary: #e77f33; /* Warm orange accent */
      --sidebar: #41413c; /* Dark grayish-brown sidebar */
      --background: #fdf6f2; /* Light peachy/off-white background */
      --text-primary: #333333;
      --text-secondary: #666666;
      --bg-primary: #fdf6f2;
      --bg-card: white;
      --border-color: #e5e7eb;
      --shadow-color: rgba(0, 0, 0, 0.05);
    }
    
    /* Dark theme */
    .dark {
      --text-primary: #f0f0f0;
      --text-secondary: #cccccc;
      --bg-primary: #2d2d2d;
      --bg-card: #3a3a3a;
      --border-color: #4a4a4a;
      --shadow-color: rgba(0, 0, 0, 0.2);
      --sidebar-bg: #41413c; /* Maintain the sidebar color in dark mode */
    }
    
    /* Apply dark theme to all text elements */
    .dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6,
    .dark p, .dark span, .dark div, .dark td, .dark th, .dark li,
    .dark label, .dark input, .dark select, .dark textarea {
      color: #f0f0f0 !important;
    }
    
    /* Specific dark text overrides for commonly problematic elements */
    .dark .text-gray-700, .dark .text-gray-800, .dark .text-gray-900,
    .dark .text-black, .dark .text-secondary, .dark .card-title {
      color: #f0f0f0 !important;
    }
    
    /* Apply styles based on theme */
    body {
      transition: background-color 0.3s ease, color 0.3s ease;
      background-color: var(--bg-primary);
      color: var(--text-primary);
    }

    .dark body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
    }
    
    .dashboard-container {
      display: flex;
      min-height: 100vh;
    }
    
    /* Sidebar styling */
    .sidebar {
      width: 240px;
      background-color: var(--sidebar);
      color: white;
      height: 100vh;
      position: fixed;
      z-index: 40;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
    }
    
    .sidebar h2 {
      padding: 1.5rem 1rem 0.5rem;
      font-size: 1.5rem;
      color: white;
      text-align: center;
    }
    
    .sidebar a {
      display: flex;
      align-items: center;
      padding: 0.75rem 1rem;
      color: rgba(255, 255, 255, 0.8);
      border-radius: 0.375rem;
      margin: 0.25rem 0;
      transition: all 0.2s ease;
    }
    
    .sidebar a:hover, .sidebar a.active {
      background-color: rgba(231, 127, 51, 0.2);
      color: white;
    }
    
    .sidebar a i {
      margin-right: 0.75rem;
      width: 20px;
      text-align: center;
    }
    
    /* Main content area */
    .main-content {
      flex: 1;
      padding: 1.5rem;
      margin-left: 240px; /* Exactly match sidebar width */
      background-color: var(--bg-primary); /* Use CSS variable for theme support */
    }
    
    /* Card styling */
    .card {
      background-color: var(--bg-card);
      border-radius: 0.5rem;
      box-shadow: 0 2px 5px var(--shadow-color);
      margin-bottom: 1.5rem;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px var(--shadow-color);
    }
    
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      border-bottom: 1px solid var(--border-color);
    }
    
    .card-title {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-primary);
      margin: 0;
    }
    
    .text-accent {
      color: var(--primary);
    }
    
    /* Section styling */
    .section-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }
    
    /* Dashboard sections */
    .dashboard-section {
      display: none;
    }
    
    .dashboard-section.active {
      display: block;
    }
    
    /* Statistics counter */
    .stats-counter {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      line-height: 1;
      margin: 0.5rem 0;
    }
    
    /* Admin dashboard specific components */
    .admin-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .admin-stats .card {
      border-radius: 0.5rem;
      padding: 1.25rem;
      display: flex;
      flex-direction: column;
      transition: all 0.3s ease;
    }
    
    .admin-stats .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
  </style>
</head>
<body class="font-sans">
  <!-- Theme Switcher Dropdown -->
  <div class="theme-switcher" id="theme-dropdown" style="transition: all 0.3s ease;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; padding: 0 0.25rem;">
      <span style="font-size: 0.8rem; color: var(--text-primary);">Appearance</span>
    </div>
    <div class="flex space-x-2">
      <button id="light-theme" class="theme-button active" onclick="changeTheme('light')" title="Light Mode">
        <i class="fas fa-sun"></i>
      </button>
      <button id="dark-theme" class="theme-button" onclick="changeTheme('dark')" title="Dark Mode">
        <i class="fas fa-moon"></i>
      </button>
      <button id="system-theme" class="theme-button" onclick="changeTheme('system')" title="System Theme">
        <i class="fas fa-desktop"></i>
      </button>
    </div>
  </div>

  <div class="dashboard-container">

    <!-- Navigation Sidebar -->
    <aside id="sidebar" class="sidebar">
      <!-- Header with Logo -->
      <h2>Global Admin</h2>
      <div style="padding: 1rem; text-align: center;">
        <img src="images/phcm-logo.svg" alt="PHCM Logo" style="width: 60px; height: 60px; margin: 0 auto 0.5rem;">
        <div>
          <h3 style="color: #ffffff; margin: 0; font-size: 1rem;">Perpetual Help</h3>
          <p style="color: #e77f33; margin: 0; font-size: 0.85rem;">College of Manila</p>
        </div>
      </div>
      
      <!-- Admin Info -->
      <div style="padding: 1rem; margin-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.1); text-align: center;">
        <div style="display: flex; flex-direction: column; align-items: center;">
          <div style="width: 50px; height: 50px; background-color: #e77f33; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 0.5rem;">
            <i class="fas fa-user-tie" style="color: white; font-size: 1.25rem;"></i>
          </div>
          <div>
            <div style="font-weight: bold; color: white;">Global Administrator</div>
            <div style="font-size: 0.8rem; color: #aaa;">ID: GLOBAL-ADMIN</div>
          </div>
        </div>
      </div>
      
      <!-- Navigation Menu -->
      <ul style="text-align: left; padding-left: 1.5rem;">
        <li>
          <a href="#" onclick="showContent('dashboard')" class="active" style="display: flex; align-items: center;">
            <i class="fas fa-home" style="width: 20px;"></i> <span style="margin-left: 0.5rem;">Dashboard</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="showContent('campuses')" style="display: flex; align-items: center;">
            <i class="fas fa-university" style="width: 20px;"></i> <span style="margin-left: 0.5rem;">Campuses</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="showContent('departments')" style="display: flex; align-items: center;">
            <i class="fas fa-building" style="width: 20px;"></i> <span style="margin-left: 0.5rem;">Departments</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="showContent('admins')" style="display: flex; align-items: center;">
            <i class="fas fa-user-shield" style="width: 20px;"></i> <span style="margin-left: 0.5rem;">Local Admins</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="showContent('reports')" style="display: flex; align-items: center;">
            <i class="fas fa-chart-bar" style="width: 20px;"></i> <span style="margin-left: 0.5rem;">Global Reports</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="showContent('settings')" style="display: flex; align-items: center;">
            <i class="fas fa-cog" style="width: 20px;"></i> <span style="margin-left: 0.5rem;">System Settings</span>
          </a>
        </li>
        <li>
          <a href="loginpage.html" onclick="logout()" style="display: flex; align-items: center;">
            <i class="fas fa-sign-out-alt" style="width: 20px;"></i> <span style="margin-left: 0.5rem;">Log Out</span>
          </a>
        </li>
      </ul>
    </aside>
    
    <div class="main-content">
      <main class="flex-1 overflow-y-auto" style="padding: 0;">
        
        <!-- Dashboard Content -->
        <div id="dashboard-content" class="dashboard-section active" style="margin: 0; padding: 1rem;">
          <!-- Welcome Section -->
          <div class="mb-4">
            <h3 class="section-title" style="margin-top: 0;">Global System Overview</h3>
            <div class="card p-4">
              <p class="text-gray-700 dark:text-gray-200">Welcome to the Global Administration Dashboard. You have access to all campuses and system-wide settings. There are <span class="font-bold" style="color: var(--primary);">3</span> pending system alerts requiring your attention.</p>
            </div>
          </div>
          
          <!-- Global Stats Overview -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 admin-stats">
            <!-- Campuses Card -->
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Campuses</h3>
                <i class="fas fa-university text-accent"></i>
              </div>
              <div class="stats-counter">5</div>
              <div class="flex items-center justify-between mt-2">
                <div class="flex items-center">
                  <span style="color: #e77f33;"><i class="fas fa-arrow-up mr-1"></i> 1</span>
                  <span class="text-xs text-secondary ml-1">from last year</span>
                </div>
                <i class="fas fa-map-marker-alt text-accent text-lg"></i>
              </div>
            </div>
            
            <!-- Total Students Card -->
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Total Students</h3>
                <i class="fas fa-user-graduate text-accent"></i>
              </div>
              <div class="stats-counter">12,450</div>
              <div class="flex items-center justify-between mt-2">
                <div class="flex items-center">
                  <span style="color: #e77f33;"><i class="fas fa-arrow-up mr-1"></i> 8%</span>
                  <span class="text-xs text-secondary ml-1">from last year</span>
                </div>
                <i class="fas fa-graduation-cap text-accent text-lg"></i>
              </div>
            </div>
            
            <!-- Total Faculty Card -->
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Total Faculty</h3>
                <i class="fas fa-chalkboard-teacher text-accent"></i>
              </div>
              <div class="stats-counter">580</div>
              <div class="flex items-center justify-between mt-2">
                <div class="flex items-center">
                  <span style="color: #e77f33;"><i class="fas fa-arrow-up mr-1"></i> 5%</span>
                  <span class="text-xs text-secondary ml-1">from last year</span>
                </div>
                <i class="fas fa-users text-accent text-lg"></i>
              </div>
            </div>
            
            <!-- System Health Card -->
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">System Health</h3>
                <i class="fas fa-heartbeat text-accent"></i>
              </div>
              <div class="stats-counter">97%</div>
              <div class="flex items-center justify-between mt-2">
                <div class="flex items-center">
                  <span style="color: #e77f33;"><i class="fas fa-arrow-up mr-1"></i> 2%</span>
                  <span class="text-xs text-secondary ml-1">from last month</span>
                </div>
                <i class="fas fa-server text-accent text-lg"></i>
              </div>
            </div>
          </div>
          
          <!-- Campus Overview -->
          <div class="mb-8">
            <h3 class="text-xl font-bold mb-4 text-gray-800 dark:text-white">Campus Overview</h3>
            <div class="card overflow-hidden">
              <table class="data-table min-w-full rounded-lg overflow-hidden">
                <thead class="table-header">
                  <tr>
                    <th class="px-4 py-3 text-left">Campus</th>
                    <th class="px-4 py-3 text-left">Location</th>
                    <th class="px-4 py-3 text-left">Students</th>
                    <th class="px-4 py-3 text-left">Faculty</th>
                    <th class="px-4 py-3 text-left">Status</th>
                    <th class="px-4 py-3 text-left">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-b border-gray-200 dark:border-gray-700">
                    <td class="px-4 py-3">Main Campus</td>
                    <td class="px-4 py-3">Manila</td>
                    <td class="px-4 py-3">4,580</td>
                    <td class="px-4 py-3">215</td>
                    <td class="px-4 py-3"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">Active</span></td>
                    <td class="px-4 py-3"><a href="#" class="text-primary hover:underline">Manage</a></td>
                  </tr>
                  <tr class="border-b border-gray-200 dark:border-gray-700">
                    <td class="px-4 py-3">North Campus</td>
                    <td class="px-4 py-3">Quezon City</td>
                    <td class="px-4 py-3">3,210</td>
                    <td class="px-4 py-3">145</td>
                    <td class="px-4 py-3"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">Active</span></td>
                    <td class="px-4 py-3"><a href="#" class="text-primary hover:underline">Manage</a></td>
                  </tr>
                  <tr class="border-b border-gray-200 dark:border-gray-700">
                    <td class="px-4 py-3">South Campus</td>
                    <td class="px-4 py-3">Las Piñas</td>
                    <td class="px-4 py-3">2,850</td>
                    <td class="px-4 py-3">120</td>
                    <td class="px-4 py-3"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">Active</span></td>
                    <td class="px-4 py-3"><a href="#" class="text-primary hover:underline">Manage</a></td>
                  </tr>
                  <tr class="border-b border-gray-200 dark:border-gray-700">
                    <td class="px-4 py-3">East Campus</td>
                    <td class="px-4 py-3">Antipolo</td>
                    <td class="px-4 py-3">1,420</td>
                    <td class="px-4 py-3">60</td>
                    <td class="px-4 py-3"><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">Active</span></td>
                    <td class="px-4 py-3"><a href="#" class="text-primary hover:underline">Manage</a></td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3">West Campus</td>
                    <td class="px-4 py-3">Parañaque</td>
                    <td class="px-4 py-3">390</td>
                    <td class="px-4 py-3">40</td>
                    <td class="px-4 py-3"><span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs">New</span></td>
                    <td class="px-4 py-3"><a href="#" class="text-primary hover:underline">Manage</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          
          <!-- System Alerts -->
          <div class="mb-8">
            <h3 class="text-xl font-bold mb-4 text-gray-800 dark:text-white">System Alerts</h3>
            <div class="card overflow-hidden">
              <div class="p-4 bg-yellow-50 border-l-4 border-yellow-500 mb-4">
                <div class="flex">
                  <div class="flex-shrink-0">
                    <i class="fas fa-exclamation-triangle text-yellow-500"></i>
                  </div>
                  <div class="ml-3">
                    <h3 class="text-sm font-medium text-yellow-800">Database Maintenance</h3>
                    <div class="mt-2 text-sm text-yellow-700">
                      <p>Scheduled database maintenance for all campuses on May 15, 2025, from 1:00 AM to 3:00 AM.</p>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="p-4 bg-blue-50 border-l-4 border-blue-500 mb-4">
                <div class="flex">
                  <div class="flex-shrink-0">
                    <i class="fas fa-info-circle text-blue-500"></i>
                  </div>
                  <div class="ml-3">
                    <h3 class="text-sm font-medium text-blue-800">System Update</h3>
                    <div class="mt-2 text-sm text-blue-700">
                      <p>New system update available (v2.5.3). Contains security patches and performance improvements.</p>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="p-4 bg-red-50 border-l-4 border-red-500">
                <div class="flex">
                  <div class="flex-shrink-0">
                    <i class="fas fa-exclamation-circle text-red-500"></i>
                  </div>
                  <div class="ml-3">
                    <h3 class="text-sm font-medium text-red-800">Security Alert</h3>
                    <div class="mt-2 text-sm text-red-700">
                      <p>Unusual login attempts detected at East Campus. Please review security logs.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Other Content Sections (Initially Hidden) -->
        <div id="campuses-content" class="dashboard-section" style="display: none;">
          <h3 class="section-title">Campus Management</h3>
          <!-- Campus management content would go here -->
        </div>
        
        <div id="departments-content" class="dashboard-section" style="display: none;">
          <h3 class="section-title">Department Management</h3>
          <!-- Department management content would go here -->
        </div>
        
        <div id="admins-content" class="dashboard-section" style="display: none;">
          <h3 class="section-title">Local Admin Management</h3>
          <!-- Admin management content would go here -->
        </div>
        
        <div id="reports-content" class="dashboard-section" style="display: none;">
          <h3 class="section-title">Global Reports</h3>
          <!-- Reports content would go here -->
        </div>
        
        <div id="settings-content" class="dashboard-section" style="display: none;">
          <h3 class="section-title">System Settings</h3>
          <!-- Settings content would go here -->
        </div>
      </main>
      
      <!-- Footer -->
      <footer class="p-4 text-center text-gray-500 text-sm border-t border-gray-200 dark:border-gray-700">
        <p>&copy; 2025 Perpetual Help College of Manila. All rights reserved.</p>
      </footer>
    </div>
    
  </div>
  
  <!-- JavaScript for dashboard functionality -->
  <script>
    // Enhanced theme management function with smart animated background effect (no transition when system matches dark)
    function changeTheme(theme) {
      const html = document.documentElement;
      const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const previousTheme = html.classList.contains('dark') ? 'dark' : 'light';
      
      // Remove current theme class
      html.classList.remove('light', 'dark');
      
      // Reset active states on buttons
      document.getElementById('light-theme').classList.remove('active');
      document.getElementById('dark-theme').classList.remove('active');
      document.getElementById('system-theme').classList.remove('active');
      
      // Determine which theme to use
      let newTheme = theme;
      if (theme === 'system') {
        newTheme = systemPrefersDark ? 'dark' : 'light';
        document.getElementById('system-theme').classList.add('active');
      } else {
        document.getElementById(`${theme}-theme`).classList.add('active');
      }
      
      // Special handling: If system preference already matches the selected theme,
      // don't use transitions to avoid flash effect
      if (theme === 'system') {
        // Apply without transition for system preference theme
        html.style.transition = 'none';
        html.classList.add(newTheme);
        
        // Force reflow to ensure transition removal takes effect
        void html.offsetWidth;
        
        // Restore transitions after a tiny delay
        setTimeout(() => {
          html.style.transition = '';
        }, 5);
      } else {
        // Apply with smooth transition for explicitly selected themes
        html.classList.add(newTheme);
      }
      
      // Save theme preference
      localStorage.setItem('theme', theme);
    }
    
    // Function to detect system theme preference and set classes accordingly
    function detectSystemPreference() {
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      return prefersDark ? 'dark' : 'light';
    }
    
    // Apply saved theme on page load
    function applyTheme() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      const systemTheme = detectSystemPreference();
      
      // Reset active states
      document.getElementById('light-theme').classList.remove('active');
      document.getElementById('dark-theme').classList.remove('active');
      document.getElementById('system-theme').classList.remove('active');
      
      if (savedTheme === 'system') {
        // Use system preference
        document.documentElement.classList.add(systemTheme);
        document.getElementById('system-theme').classList.add('active');
      } else {
        // Use saved preference
        document.documentElement.classList.add(savedTheme);
        document.getElementById(`${savedTheme}-theme`).classList.add('active');
      }
      
      // Save the current theme to localStorage
      localStorage.setItem('theme', savedTheme);
    }
    
    // Show dashboard section
    function showContent(sectionId) {
      // Hide all sections
      const sections = document.querySelectorAll('.dashboard-section');
      sections.forEach(section => {
        section.style.display = 'none';
      });
      
      // Show selected section
      document.getElementById(`${sectionId}-content`).style.display = 'block';
      
      // Update active state in sidebar
      const links = document.querySelectorAll('.sidebar a');
      links.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('onclick') && link.getAttribute('onclick').includes(`'${sectionId}'`)) {
          link.classList.add('active');
        }
      });
    }
    
    // Logout function
    function logout() {
      // In a real app, this would handle session termination
      localStorage.removeItem('global_admin_session');
      // Redirect happens via the href attribute
    }
    
    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      applyTheme();
    });
  </script>
</body>
</html>
