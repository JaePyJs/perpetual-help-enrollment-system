<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="admin-dashboard.css" />
  </head>
  <body>
    <div class="admin-dashboard">
      <aside class="sidebar">
        <h2>Admin Panel</h2>
        <ul>
          <li><a href="#" onclick="showContent('home')">üè† Home</a></li>
          <li>
            <a href="#" onclick="showContent('users')">üë§ Manage Users</a>
          </li>
          <li><a href="#" onclick="showContent('reports')">üìã Reports</a></li>
          <li><a href="#" onclick="showContent('settings')">‚öôÔ∏è Settings</a></li>
          <li><a href="loginpage.html" onclick="logout()">üö™ Log Out</a></li>
        </ul>
      </aside>

      <main class="main-content">
        <div id="home-content" class="content-section">
          <h1>Welcome, <span id="admin-name">Admin</span></h1>
          <div class="dashboard-stats">
            <div class="stat-card">
              <h3>Total Users</h3>
              <p id="total-users">0</p>
            </div>
            <div class="stat-card">
              <h3>Pending Requests</h3>
              <p id="pending-requests">0</p>
            </div>
          </div>
        </div>

        <div id="users-content" class="content-section hidden">
          <h1>Manage Users</h1>
          <div class="action-grid">
            <button onclick="showUserPanel('add-user')">‚ûï Add User</button>
            <button onclick="showUserPanel('remove-user')">
              üóëÔ∏è Remove User
            </button>
            <button onclick="showUserPanel('modify-user')">
              ‚úèÔ∏è Modify User
            </button>
            <button onclick="showUserPanel('view-logs')">üìÑ View Logs</button>
          </div>

          <div id="add-user-panel" class="user-panel hidden">
            <h2>Add New User</h2>
            <form id="add-user-form" onsubmit="addUser(event)">
              <div class="form-group">
                <label>User Type:</label>
                <select id="user-type" required title="Select user type">
                  <option value="">Select type</option>
                  <option value="teacher">Teacher</option>
                  <option value="student">Student</option>
                  <option value="admin">Admin</option>
                </select>
              </div>
              <div class="form-group">
                <label>Full Name:</label>
                <input
                  type="text"
                  id="user-name"
                  placeholder="Enter full name"
                  required
                  title="Full Name"
                />
              </div>
              <div class="form-group">
                <label>Email:</label>
                <input
                  type="email"
                  id="user-email"
                  placeholder="Enter email"
                  required
                  title="Email"
                />
              </div>
              <div class="form-group">
                <label>Initial Password:</label>
                <div class="password-fields">
                  <input
                    type="password"
                    id="user-password"
                    placeholder="Enter password"
                    required
                    title="Password"
                  />
                  <input
                    type="password"
                    id="confirm-password-add"
                    placeholder="Confirm password"
                    required
                    title="Confirm Password"
                  />
                  <div class="password-strength">
                    <span class="strength-indicator"></span>
                    <span class="strength-text"></span>
                  </div>
                </div>
                <div class="password-toggle">
                  <input
                    type="checkbox"
                    id="show-passwords"
                    onchange="togglePasswordVisibility()"
                  />
                  <label for="show-passwords">Show passwords</label>
                </div>
              </div>
              <div class="form-group">
                <button type="submit" class="submit-btn">Create User</button>
                <button
                  type="button"
                  class="cancel-btn"
                  onclick="hideUserPanels()"
                >
                  Cancel
                </button>
              </div>
            </form>
          </div>

          <div id="remove-user-panel" class="user-panel hidden">
            <h2>Remove User</h2>
            <div class="form-group">
              <label>Search:</label>
              <input
                type="text"
                id="search-user"
                placeholder="Search by name or email"
                oninput="searchUsers()"
              />
            </div>
            <div id="user-list" class="user-list"></div>
            <button class="cancel-btn" onclick="hideUserPanels()">Back</button>
          </div>

          <div id="modify-user-panel" class="user-panel hidden">
            <h2>Modify User</h2>
            <div class="form-group">
              <label>Search:</label>
              <input
                type="text"
                id="modify-search"
                placeholder="Search by name or email"
                oninput="searchUsersForEdit()"
              />
            </div>
            <div id="edit-user-list" class="user-list"></div>

            <form
              id="edit-user-form"
              class="hidden"
              onsubmit="saveUserChanges(event)"
            >
              <input type="hidden" id="edit-user-id" />
              <div class="form-group">
                <label>Full Name:</label>
                <input
                  type="text"
                  id="edit-user-name"
                  required
                  placeholder="Enter full name"
                  title="Full Name"
                />
              </div>
              <div class="form-group">
                <label>Email:</label>
                <input
                  type="email"
                  id="edit-user-email"
                  required
                  placeholder="Enter email"
                  title="Email"
                />
              </div>
              <div class="form-group">
                <label>User Type:</label>
                <select id="edit-user-type" required title="Select user type">
                  <option value="teacher">Teacher</option>
                  <option value="student">Student</option>
                  <option value="admin">Admin</option>
                </select>
              </div>
              <div class="form-group">
                <label>Change Password (leave blank to keep current):</label>
                <div class="password-fields">
                  <input
                    type="password"
                    id="new-password"
                    placeholder="New password"
                    title="New Password"
                  />
                  <input
                    type="password"
                    id="confirm-password-edit"
                    placeholder="Confirm new password"
                    title="Confirm New Password"
                  />
                  <div class="password-strength">
                    <span class="strength-indicator"></span>
                    <span class="strength-text"></span>
                  </div>
                </div>
                <div class="password-toggle">
                  <input
                    type="checkbox"
                    id="show-edit-passwords"
                    onchange="toggleEditPasswordVisibility()"
                  />
                  <label for="show-edit-passwords">Show passwords</label>
                </div>
              </div>
              <div class="form-group">
                <button type="submit" class="submit-btn">Save Changes</button>
                <button type="button" class="cancel-btn" onclick="cancelEdit()">
                  Cancel
                </button>
              </div>
            </form>
            <button class="cancel-btn" onclick="hideUserPanels()">Back</button>
          </div>

          <div id="view-logs-panel" class="user-panel hidden">
            <h2>System Logs</h2>
            <div class="log-tabs">
              <button
                class="tab-btn active"
                onclick="showLogTab('notifications')"
              >
                Notifications
              </button>
              <button class="tab-btn" onclick="showLogTab('password-resets')">
                Password Resets
              </button>
              <button class="tab-btn" onclick="showLogTab('admin-actions')">
                Admin Actions
              </button>
            </div>

            <div id="notifications-tab" class="log-tab-content">
              <div id="teacher-notifications" class="notification-category">
                <h3>From Teachers</h3>
              </div>
              <div id="student-notifications" class="notification-category">
                <h3>From Students</h3>
              </div>
              <div id="admin-notifications" class="notification-category">
                <h3>From Admins</h3>
              </div>
            </div>

            <div id="password-resets-tab" class="log-tab-content hidden">
              <div id="password-reset-list"></div>
            </div>

            <div id="admin-actions-tab" class="log-tab-content hidden">
              <div id="admin-actions-list"></div>
            </div>

            <button class="cancel-btn" onclick="hideUserPanels()">Back</button>
          </div>
        </div>

        <div id="reports-content" class="content-section hidden">
          <h1>Reports</h1>
          <div id="reports-container"></div>
        </div>

        <div id="settings-content" class="content-section hidden">
          <h1>Settings</h1>
          <div id="settings-container"></div>
        </div>
      </main>
    </div>

    <script src="admin-dashboard.js"></script>
  </body>
</html>
